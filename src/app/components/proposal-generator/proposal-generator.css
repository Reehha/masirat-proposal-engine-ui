.layout {
  display: grid;
  grid-template-columns: 0.3fr .8fr; /* Form ~30%, Preview ~70% */
  height: calc(100vh - 4rem); /* 64px = 4rem */
  transition: grid-template-columns 0.3s ease;
}

/* Left: Form sidebar */
.left {
  display: flex;
  flex-direction: column;
  border-right: 1px solid #e5e7eb;
  background: #ffffff;
  overflow: hidden;
}

/* Header inside form sidebar */
.form-header {
  height: 3rem; /* 48px */
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 0.75rem; /* 12px */
  border-bottom: 1px solid #e5e7eb;
  font-weight: 600;
}

/* Collapse button */
.collapse-btn {
  border: none;
  background: #f3f4f6;
  border-radius: 0.375rem; /* 6px */
  cursor: pointer;
  padding: 0.25rem 0.5rem; /* 4px 8px */
}

.collapse-btn:hover {
  background: #e5e7eb;
}

/* Scrollable form body */
.form-body {
  flex: 1;
  overflow-y: auto;
  padding: 0.75rem; /* 12px */
}

/* Right: Preview */
.right {
  overflow-y: auto;
  background: #f9fafb;
  padding: 1rem; /* 16px */
}

/* Collapsed state */
.layout.form-collapsed {
  grid-template-columns: 2.5rem 1fr; /* 40px */
}

.layout.form-collapsed .form-body {
  display: none;
}

.layout.form-collapsed .form-header span {
  display: none;
}

.layout.form-collapsed .form-header {
  justify-content: center;
}

/* Prevent page break inside important sections */
.no-page-break,
.preview-section,
.info-card,
.price-card {
page-break-inside: avoid;
break-inside: avoid;
}
/* =========================
 Responsive Proposal Layout
 ========================= */

/* Tablets & below: stack vertically */
@media (max-width: 56.25rem) { /* 900px */
.layout {
  display: flex;            /* switch from grid to flex */
  flex-direction: column;   /* stack: left on top, right below */
  height: auto;             /* allow natural height */
}

.left {
  border-right: none;
  border-bottom: 1px solid #e5e7eb;
  max-height: none;
}

.right {
  padding: 0.75rem; /* 12px */
}

/* Make form body height auto instead of forcing scroll */
.form-body {
  max-height: none;
  overflow: visible;
}

/* Collapsed state on mobile: just hide form content */
.layout.form-collapsed .left {
  height: 3rem; /* 48px - only header visible */
}

.layout.form-collapsed .form-body {
  display: none;
}

.layout.form-collapsed .form-header span {
  display: none;
}

.layout.form-collapsed .form-header {
  justify-content: space-between;
}
}

/* Phones: tighten spacing a bit */
@media (max-width: 30rem) { /* 480px */
proposal-preview {
  margin-bottom: 5rem; /* 80px - keeping as rem since 5rem = 80px */
}
.form-header {
  padding: 0 0.625rem; /* 10px */
  font-size: 0.875rem; /* 14px */
}

.form-body {
  padding: 0.625rem; /* 10px */
}

.right {
  padding: 0.625rem; /* 10px */
}
}
/* =========================
 Mobile: make arrow point UP / DOWN
 ========================= */

 .collapse-btn {
  transition: transform 0.25s ease;
}

@media (max-width: 56.25rem) { /* 900px */
  /* When expanded (currently showing ◀) -> point UP */
  .collapse-btn {
    transform: rotate(90deg);
  }

  /* When collapsed (currently showing ▶) -> point DOWN */
  .layout.form-collapsed .collapse-btn {
    transform: rotate(90deg);
  }
}