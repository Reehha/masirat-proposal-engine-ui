/* =============================
   PAGE / CONTAINER (A4 SAFE)
============================= */

.preview-shell {
    width: 52.5rem;   /* 210mm ≈ 52.5rem (210mm * 0.25) */
    max-width: 52.5rem;
    margin: 0 auto;
    padding: 3.75rem 3rem;   /* 15mm ≈ 3.75rem, 12mm ≈ 3rem */
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
    color: #1e293b;
    background: #ffffff;
    box-sizing: border-box;
    overflow: visible;
    line-height: 1.5;
    position: relative;
}

.preview-shell * {
    box-sizing: border-box;
    max-width: 100%;
}

/* =============================
   PAGE BREAK CONTROL
============================= */

.preview-section {
    margin: 0 0 2rem 0;   /* 8mm ≈ 2rem */
    page-break-inside: avoid;
    break-inside: avoid;
    position: relative;
}

/* Force page breaks for large sections that might overflow */
.timeline-section {
    page-break-after: auto;
    break-after: auto;
}

.requirements-section {
    page-break-before: auto;
    break-before: auto;
}

.pricing-section {
    page-break-before: auto;
    break-before: auto;
}

/* Allow page breaks inside grids if needed */
.card-grid, .pricing-grid {
    page-break-inside: auto;
    break-inside: auto;
}

/* Individual cards should try to stay together */
.info-card, .price-card {
    page-break-inside: avoid;
    break-inside: avoid;
}

/* =============================
   HEADER / TITLE
============================= */

.preview-header {
    margin-bottom: 2rem;   /* 8mm ≈ 2rem */
    padding-bottom: 0.5rem;   /* 2mm ≈ 0.5rem */
}

.header-text {
    flex: 1;
}

.preview-header h1 {
    margin: 0 0 0.5rem 0;   /* 2mm ≈ 0.5rem */
    font-size: 1.625rem;   /* 26px ÷ 16 = 1.625rem */
    font-weight: 700;
    color: #0f172a;
    letter-spacing: -0.02em;
    line-height: 1.2;
}

.preview-header .intro {
    margin: 0;
    font-size: 0.75rem;   /* 12px ÷ 16 = 0.75rem */
    color: #475569;
    line-height: 1.5;
}

/* =============================
   SECTION TITLES (NO BOTTOM LINES)
============================= */

.section-title {
    display: flex;
    align-items: center;
    gap: 0.5rem;   /* 8px ÷ 16 = 0.5rem */
    margin: 0 0 1.5rem 0;   /* 6mm ≈ 1.5rem */
    font-size: 1.125rem;   /* 18px ÷ 16 = 1.125rem */
    font-weight: 600;
    color: #0f172a;
}

.title-icon {
    font-size: 1.375rem;   /* 22px ÷ 16 = 1.375rem */
    line-height: 1;
}

/* =============================
   GANTT / TIMELINE (A4 FIT)
============================= */

.gantt-container {
    width: 100%;
    overflow: visible;
}

.gantt {
    width: 100%;
    border: 1px solid #e2e8f0;
    border-radius: 0.5rem;   /* 8px ÷ 16 = 0.5rem */
    background: #ffffff;
    box-shadow: 0 1px 2px rgba(0,0,0,0.02);
    display: table;
    border-collapse: collapse;
}

.gantt-header,
.gantt-row {
    display: grid;
    grid-template-columns: 4.375rem repeat(6, 1fr);   /* 70px ÷ 16 = 4.375rem */
    width: 100%;
}

.gantt-header {
    background: #f8fafc;
    border-bottom: 1px solid #e2e8f0;
}

.gantt-header .gantt-col {
    background: #f8fafc;
    font-weight: 600;
    font-size: 0.6875rem;   /* 11px ÷ 16 = 0.6875rem */
    color: #334155;
    text-transform: uppercase;
    letter-spacing: 0.3px;
}

.gantt-col {
    padding: 0.5rem 0.25rem;   /* 8px ÷ 16 = 0.5rem, 4px ÷ 16 = 0.25rem */
    border-right: 1px solid #e2e8f0;
    border-bottom: 1px solid #e2e8f0;
    min-height: 2.625rem;   /* 42px ÷ 16 = 2.625rem */
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.625rem;   /* 10px ÷ 16 = 0.625rem */
}

.gantt-col:last-child {
    border-right: none;
}

.gantt-row:last-child .gantt-col {
    border-bottom: none;
}

.label-col {
    justify-content: flex-start;
    padding-left: 0.5rem;   /* 8px ÷ 16 = 0.5rem */
    background: #f8fafc;
    color: #1e293b;
    font-weight: 500;
}

.phase-number {
    font-weight: 600;
    color: #2563eb;
}

.month-col {
    background: #ffffff;
}

.task-bar {
    width: 100%;
    background: linear-gradient(135deg, #2563eb, #4f46e5);
    color: #ffffff;
    padding: 0.375rem 0.375rem;   /* 6px ÷ 16 = 0.375rem */
    border-radius: 0.25rem;   /* 4px ÷ 16 = 0.25rem */
    font-size: 0.5625rem;   /* 9px ÷ 16 = 0.5625rem */
    font-weight: 500;
    line-height: 1.3;
    text-align: left;
    white-space: normal;
    word-break: break-word;
    box-shadow: 0 1px 2px rgba(37, 99, 235, 0.2);
}

/* =============================
   INFO CARDS (MODERN & CLEAN)
============================= */

.card-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;   /* 6mm ≈ 1.5rem */
    margin-bottom: 0.5rem;   /* 2mm ≈ 0.5rem */
}

.info-card {
    position: relative;
    border: 1px solid #e2e8f0;
    border-radius: 0.625rem;   /* 10px ÷ 16 = 0.625rem */
    padding: 1.25rem 1rem;   /* 5mm ≈ 1.25rem, 4mm ≈ 1rem */
    background: #ffffff;
    box-shadow: 0 1px 3px rgba(0,0,0,0.02);
    overflow: hidden;
    height: fit-content;
}

.card-icon {
    font-size: 1.5rem;   /* 24px ÷ 16 = 1.5rem */
    margin-bottom: 1rem;   /* 4mm ≈ 1rem */
    line-height: 1;
}

.info-card h3 {
    margin: 0 0 0.75rem 0;   /* 3mm ≈ 0.75rem */
    font-size: 0.875rem;   /* 14px ÷ 16 = 0.875rem */
    font-weight: 600;
    color: #0f172a;
}

.info-card p {
    margin: 0;
    color: #475569;
    font-size: 0.6875rem;   /* 11px ÷ 16 = 0.6875rem */
    line-height: 1.5;
}

.card-accent {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 0.1875rem;   /* 3px ÷ 16 = 0.1875rem */
    background: linear-gradient(90deg, #2563eb, #4f46e5);
    border-radius: 0 0 0.625rem 0.625rem;   /* 10px ÷ 16 = 0.625rem */
}

.requirement-card .card-accent {
    background: linear-gradient(90deg, #7c3aed, #a78bfa);
}

/* =============================
   PRICING CARDS (MODERN)
============================= */

.pricing-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;   /* 6mm ≈ 1.5rem */
    align-items: stretch;
}

.price-card {
    border: 1px solid #e2e8f0;
    border-radius: 0.75rem;   /* 12px ÷ 16 = 0.75rem */
    padding: 1.25rem 1rem;   /* 5mm ≈ 1.25rem, 4mm ≈ 1rem */
    background: #ffffff;
    position: relative;
    display: flex;
    flex-direction: column;
    box-shadow: 0 1px 3px rgba(0,0,0,0.02);
    height: fit-content;
}

.price-card.recommended {
    border: 2px solid #2563eb;
    background: #f8fafc;
    margin: -0.03125rem;   /* -0.5mm ≈ -0.03125rem */
}

.price-header {
    text-align: center;
    margin-bottom: 1rem;   /* 4mm ≈ 1rem */
    padding-bottom: 0.75rem;   /* 3mm ≈ 0.75rem */
    border-bottom: 1px solid #e2e8f0;
}

.price-header h3 {
    margin: 0 0 0.75rem 0;   /* 3mm ≈ 0.75rem */
    font-size: 1rem;   /* 16px ÷ 16 = 1rem */
    font-weight: 700;
    color: #0f172a;
}

.price {
    font-size: 1.625rem;   /* 26px ÷ 16 = 1.625rem */
    font-weight: 800;
    color: #2563eb;
    line-height: 1.2;
    margin-bottom: 0.5rem;   /* 2mm ≈ 0.5rem */
}

.currency {
    font-size: 0.875rem;   /* 14px ÷ 16 = 0.875rem */
    font-weight: 500;
    color: #64748b;
}

.badge {
    display: inline-block;
    background: linear-gradient(135deg, #2563eb, #4f46e5);
    color: #ffffff;
    padding: 0.5rem 1rem;   /* 2mm ≈ 0.5rem, 4mm ≈ 1rem */
    border-radius: 1.25rem;   /* 20px ÷ 16 = 1.25rem */
    font-size: 0.625rem;   /* 10px ÷ 16 = 0.625rem */
    font-weight: 600;
    letter-spacing: 0.3px;
    box-shadow: 0 1px 3px rgba(37, 99, 235, 0.2);
}

.feature-list {
    list-style: none;
    padding: 0;
    margin: 1rem 0 0;   /* 4mm ≈ 1rem */
    flex: 1;
}

.feature-list li {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;   /* 3mm ≈ 0.75rem */
    padding: 0.5rem 0;   /* 2mm ≈ 0.5rem */
    color: #334155;
    font-size: 0.6875rem;   /* 11px ÷ 16 = 0.6875rem */
    border-bottom: 1px dashed #e2e8f0;
}

.feature-list li:last-child {
    border-bottom: none;
}

.check-icon {
    display: inline-block;
    width: 1rem;   /* 16px ÷ 16 = 1rem */
    height: 1rem;   /* 16px ÷ 16 = 1rem */
    background: #2563eb;
    color: white;
    border-radius: 50%;
    font-size: 0.625rem;   /* 10px ÷ 16 = 0.625rem */
    text-align: center;
    line-height: 1rem;   /* 16px ÷ 16 = 1rem */
    flex-shrink: 0;
}

/* =============================
   PDF / PRINT OPTIMIZATION
============================= */
@media print {
    .preview-shell {
        width: 47.5rem !important;   /* 190mm ≈ 47.5rem */
        max-width: 47.5rem !important;
        padding: 2.5rem 2rem !important;   /* 10mm ≈ 2.5rem, 8mm ≈ 2rem */
        margin: 0 auto !important;
    }
    
    .preview-section {
        margin-bottom: 2rem !important;   /* 8mm ≈ 2rem */
        page-break-inside: avoid !important;
    }
    
    /* Force page break before pricing if needed */
    .pricing-section {
        page-break-before: auto !important;
    }
    
    /* Ensure gradients print */
    .task-bar, .badge, .check-icon, .card-accent {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }
    
    .price-card.recommended {
        border-width: 2px !important;
    }
    
    /* Prevent any unwanted borders/lines */
    .section-title {
        border-bottom: none !important;
    }
}
/* =============================
   HARD PAGE SAFETY LIMITS
============================= */

/* Max usable page height ≈ 240mm (A4 minus margins/header/footer) */
:root {
    --pdf-max-card-height: 60rem;   /* 240mm ≈ 60rem */
  }
  
  /* Never allow any single card to exceed one page */
  .info-card,
  .price-card {
    max-height: var(--pdf-max-card-height);
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }
  
  /* Scroll long text instead of breaking PDF */
  .info-card p,
  .task-bar,
  .feature-list {
    overflow: hidden;
    text-overflow: ellipsis;
  }
  
  /* If descriptions are huge, clamp them */
  .info-card p {
    max-height: 30rem;   /* 120mm ≈ 30rem */
    overflow: auto;
  }
  
  /* Task bars in timeline should never explode height */
  .task-bar {
    max-height: 10rem;   /* 40mm ≈ 10rem */
    overflow: hidden;
  }
  .card-grid, .pricing-grid {
    page-break-inside: auto;
    break-inside: auto;
}
.info-card p::-webkit-scrollbar {
    width: 0.25rem;   /* 4px ÷ 16 = 0.25rem */
  }
  
  .info-card p::-webkit-scrollbar-thumb {
    background: #cbd5f5;
    border-radius: 0.25rem;   /* 4px ÷ 16 = 0.25rem */
  }
    
  .info-card p {
    display: -webkit-box;
    -webkit-line-clamp: 12;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  /* =============================
   RESPONSIVE SCREEN OVERRIDES
   (Does NOT affect print / PDF)
============================= */

@media screen and (max-width: 1024px) {
    .preview-shell {
      width: 100%;
      max-width: 100%;
      padding: 1rem 0.875rem;   /* 16px ÷ 16 = 1rem, 14px ÷ 16 = 0.875rem */
    }
  
    .preview-header h1 {
      font-size: 1.375rem;   /* 22px ÷ 16 = 1.375rem */
    }
  
    .preview-header .intro {
      font-size: 0.8125rem;   /* 13px ÷ 16 = 0.8125rem */
    }
  
    .section-title {
      font-size: 1rem;   /* 16px ÷ 16 = 1rem */
      margin-bottom: 1rem;   /* 16px ÷ 16 = 1rem */
    }
  }
  
  /* =============================
     Phones
  ============================= */
  @media screen and (max-width: 768px) {
    .preview-shell {
      padding: 0.75rem;   /* 12px ÷ 16 = 0.75rem */
    }
  
    /* ----- GANTT: make horizontally scrollable ----- */
    .gantt {
      display: block;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }
  
    .gantt-header,
    .gantt-row {
      min-width: 43.75rem;   /* 700px ÷ 16 = 43.75rem */
    }
  
    /* ----- Cards: stack to 1 column ----- */
    .card-grid {
      grid-template-columns: 1fr;
      gap: 0.75rem;   /* 12px ÷ 16 = 0.75rem */
    }
  
    /* ----- Pricing: 1 column ----- */
    .pricing-grid {
      grid-template-columns: 1fr;
      gap: 0.75rem;   /* 12px ÷ 16 = 0.75rem */
    }
  
    .price-card.recommended {
      margin: 0;
    }
  
    /* ----- Text sizes ----- */
    .info-card h3 {
      font-size: 0.9375rem;   /* 15px ÷ 16 = 0.9375rem */
    }
  
    .info-card p {
      font-size: 0.75rem;   /* 12px ÷ 16 = 0.75rem */
    }
  
    .price-header h3 {
      font-size: 1rem;   /* 16px ÷ 16 = 1rem */
    }
  
    .price {
      font-size: 1.375rem;   /* 22px ÷ 16 = 1.375rem */
    }
  
    .feature-list li {
      font-size: 0.75rem;   /* 12px ÷ 16 = 0.75rem */
    }
  }
  
  /* =============================
     Very Small Phones
  ============================= */
  @media screen and (max-width: 420px) {
    .preview-header h1 {
      font-size: 1.25rem;   /* 20px ÷ 16 = 1.25rem */
    }
  
    .section-title {
      font-size: 0.9375rem;   /* 15px ÷ 16 = 0.9375rem */
      gap: 0.375rem;   /* 6px ÷ 16 = 0.375rem */
    }
  
    .title-icon {
      font-size: 1.125rem;   /* 18px ÷ 16 = 1.125rem */
    }
  
    .info-card {
      padding: 0.75rem;   /* 12px ÷ 16 = 0.75rem */
    }
  
    .price-card {
      padding: 0.75rem;   /* 12px ÷ 16 = 0.75rem */
    }
  }